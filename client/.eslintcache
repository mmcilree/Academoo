[{"/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/index.js":"1","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/serviceWorker.js":"2","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/App.js":"3","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/HostContext.js":"4","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/Welcome.jsx":"5","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/UserSettings.jsx":"6","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/CommunityExplorer.jsx":"7","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/PageNotFound.jsx":"8","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/UserProfile.jsx":"9","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/PrivateRoute.jsx":"10","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/LoggedOutRoute.jsx":"11","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/Login.jsx":"12","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/CommunityCreator.jsx":"13","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/PostCreator.jsx":"14","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/HeaderBar.jsx":"15","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/PostsViewer.jsx":"16","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/CommunityFeed.jsx":"17","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/CommentsViewer.jsx":"18","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/SignUp.jsx":"19","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/test_post_json.js":"20","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/CommunityList.jsx":"21","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/Post.jsx":"22","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/Sidebar.jsx":"23","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/CommentCreator.jsx":"24","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/auth/index.js":"25","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/util/timeSince.js":"26","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/AccessForbidden.jsx":"27","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/CommunityManager.jsx":"28","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/UserRolesTable.jsx":"29"},{"size":588,"mtime":1605016424619,"results":"30","hashOfConfig":"31"},{"size":5086,"mtime":1605016424619,"results":"32","hashOfConfig":"31"},{"size":2980,"mtime":1611508942154,"results":"33","hashOfConfig":"31"},{"size":118,"mtime":1609676945892,"results":"34","hashOfConfig":"31"},{"size":612,"mtime":1611508942162,"results":"35","hashOfConfig":"31"},{"size":304,"mtime":1609676945896,"results":"36","hashOfConfig":"31"},{"size":1326,"mtime":1611245817068,"results":"37","hashOfConfig":"31"},{"size":499,"mtime":1605016424619,"results":"38","hashOfConfig":"31"},{"size":1400,"mtime":1609676945896,"results":"39","hashOfConfig":"31"},{"size":348,"mtime":1609676945896,"results":"40","hashOfConfig":"31"},{"size":344,"mtime":1610633577078,"results":"41","hashOfConfig":"31"},{"size":2875,"mtime":1610633577078,"results":"42","hashOfConfig":"31"},{"size":6192,"mtime":1611245817068,"results":"43","hashOfConfig":"31"},{"size":7383,"mtime":1611508942158,"results":"44","hashOfConfig":"31"},{"size":4081,"mtime":1611245817068,"results":"45","hashOfConfig":"31"},{"size":4191,"mtime":1611508942158,"results":"46","hashOfConfig":"31"},{"size":5145,"mtime":1611245817068,"results":"47","hashOfConfig":"31"},{"size":4048,"mtime":1611245817068,"results":"48","hashOfConfig":"31"},{"size":5154,"mtime":1610633577078,"results":"49","hashOfConfig":"31"},{"size":908,"mtime":1605016424619,"results":"50","hashOfConfig":"31"},{"size":2597,"mtime":1610633577074,"results":"51","hashOfConfig":"31"},{"size":1000,"mtime":1609676945892,"results":"52","hashOfConfig":"31"},{"size":2375,"mtime":1609676945896,"results":"53","hashOfConfig":"31"},{"size":2889,"mtime":1609676945892,"results":"54","hashOfConfig":"31"},{"size":1263,"mtime":1609676945892,"results":"55","hashOfConfig":"31"},{"size":1026,"mtime":1609676945896,"results":"56","hashOfConfig":"31"},{"size":528,"mtime":1611508942158,"results":"57","hashOfConfig":"31"},{"size":11821,"mtime":1611595395475,"results":"58","hashOfConfig":"31"},{"size":2888,"mtime":1611578990510,"results":"59","hashOfConfig":"31"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},"5mzrh0",{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"62"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76","usedDeprecatedRules":"62"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"62"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"96","usedDeprecatedRules":"62"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"99","usedDeprecatedRules":"62"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"102","usedDeprecatedRules":"62"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109","usedDeprecatedRules":"62"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"120","usedDeprecatedRules":"62"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/index.js",[],["127","128"],"/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/serviceWorker.js",[],"/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/App.js",[],"/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/HostContext.js",[],"/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/Welcome.jsx",["129","130"],"import React from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport Button from \"react-bootstrap/Button\";\nimport { Link } from \"react-router-dom\";\nimport { authFetch } from \"../auth\";\n\nclass Welcome extends React.Component {\n  render() {\n    return (\n      <Card className=\"mt-4\">\n        <Card.Body>\n          <h1>Welcome to Academoo!</h1>\n          <p>Part of a new federated social media platform for universities... </p>\n          <Link to=\"/moosfeed\" className=\"btn btn-secondary\">\n            Go to Moosfeed\n          </Link>\n        </Card.Body>\n      </Card>\n    );\n  }\n}\n\nexport default Welcome;\n","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/UserSettings.jsx",[],"/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/CommunityExplorer.jsx",["131"],"import React from \"react\";\nimport {Card, Alert} from \"react-bootstrap\";\nimport CommunityList from \"./CommunityList\";\nimport { Link } from \"react-router-dom\";\n\nclass CommunityExplorer extends React.Component {\n  state = {\n    isLoading: true,\n    instances: [],\n    currentCommunity: null,\n    error: null,\n  }\n\n  componentDidMount() {\n    this.fetchInstances();\n  }\n\n  fetchInstances() {\n    fetch(\"/api/get-instances\")\n      .then(response => response.json())\n      .then(data =>\n        this.setState({\n          instances: data,\n          isLoading: false,\n        })\n      )\n      .catch(error => this.setState({ error, isLoading: false }));\n  }\n\n  \n  render() {\n    const { isLoading, instances, error } = this.state;\n    return (\n      <Card className=\"mt-4\">\n        <Card.Body>\n          <h1>Explore Commoonities</h1>\n          <p>See what communities are available on the federated network!</p>\n          {error ? <Alert variant=\"danger\">Error fetching instances: {error.message}</Alert> : null}\n          <CommunityList instance=\"local\"/>\n          {!isLoading ?\n            instances.map(name => {\n              return <CommunityList instance={name}> </CommunityList>\n            })\n        : <h3>Loading External Instances...</h3>}\n        </Card.Body>\n      </Card>\n    );\n  }\n}\n\nexport default CommunityExplorer;","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/PageNotFound.jsx",[],"/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/UserProfile.jsx",["132"],"import React, { Component } from \"react\";\nimport { Card, Media } from \"react-bootstrap\";\nimport defaultProfile from \"../images/default_profile.png\";\nimport { authFetch } from '../auth';\n\nclass UserProfile extends Component {\n  constructor(props) {\n      super(props);\n      this.state = { \n        user_id: \"\",\n        email: \"\", \n        host: \"\", \n        isLoading: true};\n  } \n\n  fetchUserDetails() {\n    authFetch(\"/api/get-user\").then(response => response.json())\n      .then(data =>\n        this.setState({\n          user_id: data.id,\n          email: data.email,\n          host: data.host,\n          isLoading: false\n        })\n      )\n  }\n\n  componentDidMount() {\n    this.fetchUserDetails();\n  }\n\n  render() {\n    return (\n      <Card className=\"mt-4\">\n        <Card.Body>\n          <Media>\n            <img\n              width={150}\n              height={150}\n              className=\"mr-3 rounded-circle border border-primary\"\n              src={defaultProfile}\n              alt=\"Profile image placeholder\"\n            />\n            {!this.state.isLoading ? (\n            <Media.Body className=\"mr-3\">\n              <h3>Username: {this.state.user_id}</h3>\n              <h4 className=\"text-muted\"> Email: {this.state.email} </h4>\n            </Media.Body> ) : <h3>Loading Profile...</h3> }\n          </Media>\n        </Card.Body>\n      </Card>\n    );\n  }\n}\n\nexport default UserProfile;\n","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/PrivateRoute.jsx",[],"/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/LoggedOutRoute.jsx",[],"/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/Login.jsx",[],"/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/CommunityCreator.jsx",[],"/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/PostCreator.jsx",[],"/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/HeaderBar.jsx",[],"/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/PostsViewer.jsx",["133"],"import React, { Component } from \"react\";\nimport Post from \"./Post\";\nimport { Card, Col, Form, FormControl, Button, Alert } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { PlusCircle } from \"react-bootstrap-icons\";\nimport { authFetch } from '../auth';\n\nclass PostsViewer extends Component {\n  state = {\n    isLoading: true,\n    posts: [],\n    currentCommunity: this.props.match.params.id,\n    error: null,\n    host: this.props.match.params.instance ? this.props.match.params.instance : \"local\",\n    newPostText: \"\",\n    isAdmin: false\n  }\n\n  componentDidMount() {\n    this.fetchPosts();\n    this.fetchUserDetails();\n  }\n\n  fetchUserDetails() {\n    authFetch(\"/api/get-user\").then(response => response.json())\n      .then(data =>\n        this.setState({\n          isAdmin: data.adminOf.includes(this.state.currentCommunity)\n        })\n      )\n  }\n\n  fetchPosts() {\n    fetch('/api/posts?community=' + this.state.currentCommunity + (this.state.host !== \"local\" ? \"&external=\" + this.state.host : \"\"))\n      .then(response => response.json())\n      .then(data =>\n        this.setState({\n          posts: data,\n          isLoading: false,\n        })\n      )\n      .catch(error => this.setState({ error, isLoading: false }));\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n  }\n\n  render() {\n    const { isLoading, posts, error, currentCommunity, newPostText, isAdmin, host } = this.state;\n    return currentCommunity && (\n      <Card className=\"mt-4\">\n        <Card.Header className=\"pt-4 d-flex justify-content-between\">\n          <h2>{currentCommunity}</h2>\n\n          {this.state.host === \"local\" && isAdmin && <Link to={\"/communities/\" + currentCommunity + \"/manage\"}>\n            <Button variant=\"primary\">Manage Community</Button>\n          </Link>}\n        </Card.Header>\n        <Card.Body>\n          {this.state.isAdmin && <Alert variant=\"primary\">You are an admin!</Alert>}\n          <Form onSubmit={this.handleSubmit.bind(this)}>\n            <Form.Row>\n              <Form.Group as={Col} className=\"d-none d-sm-flex\" sm={6} md={7} lg={9}>\n                <FormControl\n                  type=\"text\"\n                  placeholder=\"Create your own post: \"\n                  name=\"newPostText\"\n                  className=\"mr-2\"\n                  onChange={this.handleChange.bind(this)} />\n\n              </Form.Group>\n              <Form.Group as={Col} xs={12} sm={6} md={5} lg={3}>\n                <Link to={\n                  {\n                    pathname: \"/create-post\",\n                    state: {\n                      body: newPostText,\n                      community: currentCommunity,\n                      host: host\n                    }\n                  }\n                }>\n                  <Button variant=\"outline-secondary\" className=\"w-100\" > <PlusCircle className=\"mb-1\" /> New Moo</Button>\n                </Link>\n              </Form.Group>\n            </Form.Row>\n          </Form>\n          {error ? <Alert variant=\"danger\">Error fetching posts: {error.message}</Alert> : null}\n          {!isLoading ? (\n            posts.map(data => {\n              const { parent, id } = data;\n              return (\n                parent === currentCommunity ? (\n                  <Card key={id} className=\"mt-4\">\n                    <Card.Body>\n                      <Post postData={data} />\n                      <Link\n                        to={this.state.host == \"local\" ? `/comments/${id}` : '/comments/' + this.state.host + `/${id}`}\n                        className=\"btn btn-primary stretched-link\"\n                      >\n                        View Comments ({data.children.length})\n                          </Link>\n                    </Card.Body>\n                  </Card>\n                ) : null);\n            })\n          ) : (\n              <h3>Loading Posts...</h3>\n            )}\n          {!isLoading && posts.length === 0 ? <h4>There's no posts yet :-(</h4> : null}\n        </Card.Body>\n      </Card>\n    );\n  }\n}\n\nexport default PostsViewer;\n","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/CommunityFeed.jsx",["134"],"import React, { Component, useContext } from \"react\";\nimport Post from \"./Post\";\nimport Sidebar from \"./Sidebar\";\nimport { Card, Container, Row, Col, Form, FormControl, Button, Alert } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { HostContext } from \"./HostContext\";\nimport { PlusCircle } from \"react-bootstrap-icons\";\n\nclass CommunityFeed extends Component {\n  state = {\n    isLoading: true,\n    posts: [],\n    currentCommunity: null,\n    error: null,\n    host: null,\n    newPostText: \"\"\n  }\n\n  static contextType = HostContext;\n\n  componentDidMount() {\n    this.fetchCommunity();\n  }\n\n  componentDidUpdate() {\n    if (this.context.host !== this.state.host) {\n      this.fetchCommunity();\n    } else if (this.state.isLoading) {\n      this.fetchPosts();\n    }\n  }\n\n  async fetchCommunity() {\n    await fetch('/api/communities' + (this.context.host !== null ? \"?external=\" + this.context.host : \"\"))\n      .then(response => response.json())\n      .then(data =>\n        this.setState({\n          currentCommunity: data.length > 0 ? data[0] : \"?\"\n        })\n      )\n\n    this.fetchPosts();\n  }\n\n  fetchPosts() {\n    fetch('/api/posts?community=' + this.state.currentCommunity + (this.context.host !== null ? \"&external=\" + this.context.host : \"\"))\n      .then(response => response.json())\n      .then(data =>\n        this.setState({\n          posts: data,\n          isLoading: false,\n          host: this.context.host\n        })\n      )\n      .catch(error => this.setState({ error, isLoading: false }));\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n  }\n\n  render() {\n    const { isLoading, posts, error, currentCommunity, newPostText } = this.state;\n\n    return currentCommunity && (\n      <Container>\n        <Card className=\"mt-4\">\n          <Card.Body>\n            <h3>You haven't yet subscribed to any communities!</h3>\n            <p>See what's available:</p>\n            <Link to=\"/explore\" className=\"btn btn-secondary\">\n            Explore Communities\n          </Link>\n          </Card.Body>\n\n        </Card>\n        {/*\n        <Row>\n          <Col xs={8}>\n            <Card className=\"mt-4\">\n              <Card.Header className=\"pt-4\">\n                <h2>{currentCommunity}</h2>\n              </Card.Header>\n              <Card.Body>\n                <Form onSubmit={this.handleSubmit.bind(this)}>\n                  <Form.Row>\n                    <Form.Group as={Col} className=\"d-none d-sm-flex\" sm={6} md={7} lg={9}>\n                      <FormControl \n                        type=\"text\" \n                        placeholder=\"Create your own post: \" \n                        name=\"newPostText\" \n                        className=\"mr-2\" \n                        onChange={this.handleChange.bind(this)} />\n\n                    </Form.Group>\n                    <Form.Group as={Col} xs={12} sm={6} md={5} lg={3}>\n                      <Link to={\n                        {\n                          pathname: \"/create-post\",\n                          state: {\n                            body: newPostText,\n                            community: currentCommunity\n                          }\n                        }\n                      }>\n                        <Button variant=\"outline-secondary\" className=\"w-100\" > <PlusCircle className=\"mb-1\" /> New Moo</Button>\n                      </Link>\n                    </Form.Group>\n                  </Form.Row>\n                </Form>\n                {error ? <Alert variant=\"danger\">Error fetching posts: {error.message}</Alert> : null}\n                {!isLoading ? (\n                  posts.map(data => {\n                    const { parent, id } = data;\n                    return (\n                      parent === currentCommunity ? (\n                        <Card key={id} className=\"mt-4\">\n                          <Card.Body>\n                            <Post postData={data} />\n                            <Link\n                              to={this.state.host == \"local\" ? `/comments/${id}` : '/comments/' + this.state.host + `/${id}`}\n                              className=\"btn btn-primary stretched-link\"\n                            >\n                              View Comments ({data.children.length})\n                          </Link>\n                          </Card.Body>\n                        </Card>\n                      ) : null);\n                  })\n                ) : (\n                    <h3>Loading Posts...</h3>\n                  )}\n                {!isLoading && posts.length === 0 ? <h4>There's no posts yet :-(</h4> : null}\n              </Card.Body>\n            </Card>\n          </Col>\n          \n          <Col>\n            <Sidebar currentCommunity={currentCommunity}\n              changeCommunity={(community) => this.setState({\n                currentCommunity: community,\n                isLoading: true\n              })} />\n          </Col>\n            </Row>*/}\n      </Container>\n    );\n  }\n}\n\nexport default CommunityFeed;","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/CommentsViewer.jsx",["135","136","137","138"],"import React, { useState, useEffect } from \"react\";\nimport Post from \"./Post\";\nimport Card from \"react-bootstrap/Card\";\nimport { posts } from \"./test_post_json\";\nimport Button from \"react-bootstrap/Button\";\nimport { ArrowReturnLeft, ChatRight } from \"react-bootstrap-icons\";\nimport { Link } from \"react-router-dom\";\nimport Modal from \"react-bootstrap/Modal\";\nimport CommentCreator from \"./CommentCreator\";\nimport { HostContext } from \"./HostContext\";\n\nclass CommentsViewer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      parentPost: null,\n      parentPostId: this.props.match.params.id,\n      host: this.props.match.params.instance ? this.props.match.params.instance : \"local\",\n      children: [],\n      fetchedChildren: new Set(),\n      \n      isLoading: true,\n      needsUpdate: false,\n\n      error: null,\n      showCommentEditor: false,\n      \n    }\n  }\n\n  static contextType = HostContext;\n\n  handleOpenCommentEditor() {\n    this.setState({ showCommentEditor: true });\n  }\n\n  handleCloseCommentEditor() {\n    this.setState({ showCommentEditor: false, needsUpdate: true });\n  }\n\n\n  async fetchParentPost() {\n    await fetch('/api/posts/' + this.state.parentPostId + (this.state.host !== \"local\" ? \"?external=\" + this.state.host : \"\"))\n      .then(response => response.json())\n      .then(data =>\n        this.setState({\n          parentPost: data,\n          needsUpdate: false\n        })\n      );\n    \n    this.fetchChildren();\n  }\n\n  async fetchChildren() {\n    const { parentPost, fetchedChildren, children } = this.state;\n\n    const new_children = await Promise.all(parentPost.children.filter(childId => !fetchedChildren.has(childId)).map(\n      async (childId) => {\n        fetchedChildren.add(childId);\n        return fetch('/api/posts/' + childId + (this.state.host !== \"local\" ? \"?external=\" + this.state.host : \"\"))\n          .then(response => response.json())\n          .then(data => data)\n          .catch(error => this.setState({ error, isLoading: false }));\n      }));\n    \n    this.setState({ isLoading: false, children: [...children, ...new_children] })\n  }\n\n  componentDidMount() {\n    this.fetchParentPost();\n  }\n\n  componentDidUpdate() {\n    if(this.state.needsUpdate) {\n      this.fetchParentPost();\n    }\n  }\n\n  render() {\n    const { isLoading } = this.state;\n\n    return (\n      <div className=\"container-md comments_view\">\n        <Card className=\"mt-4\">\n          {!isLoading ? (\n            <Card.Body>\n              <Link to=\"/moosfeed\" className=\"btn btn-secondary\">\n                Back to Moosfeed <ArrowReturnLeft />\n              </Link>\n              <Card className=\"mt-4\">\n                <Card.Body>\n                  <Post postData={this.state.parentPost} />\n                  <Button variant=\"primary\" onClick={this.handleOpenCommentEditor.bind(this)}>\n                    Leave a comment\n                    {\" \"} <ChatRight />\n                  </Button>\n                  <Modal show={this.state.showCommentEditor} onHide={() => this.setState({ showCommentEditor: false })}>\n                    <Modal.Header closeButton />\n                    <Modal.Body>\n                      <CommentCreator parentPost={this.state.parentPost} onSubmit={this.handleCloseCommentEditor.bind(this)}/>\n                    </Modal.Body>\n                  </Modal>\n\n                </Card.Body>\n              </Card>\n              {this.state.children.sort(comment => comment.created).reverse().map((child) =>\n                child ? (\n                  <Card key={child.id} className=\"mt-4 ml-4 comment\">\n                    <Card.Body>\n                      <Post postData={child} />\n                    </Card.Body>\n                  </Card>\n                ) : null\n              )}\n              {this.state.children.length == 0 ? \n                <p className=\"mt-4 ml-4 comment\">No comments to show.</p> : null}\n\n            </Card.Body>) :\n            <Card.Body><h3>Loading Post...</h3></Card.Body>}\n        </Card>\n      </div>\n    );\n  }\n}\nexport default CommentsViewer;\n","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/SignUp.jsx",[],"/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/test_post_json.js",[],"/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/CommunityList.jsx",["139","140","141"],"import React from \"react\";\nimport Accordion from \"react-bootstrap/Accordion\";\nimport Card from \"react-bootstrap/Card\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport { Link } from \"react-router-dom\";\n\nimport {\n    CaretUpFill,\n    CaretDownFill\n} from \"react-bootstrap-icons\";\n\n\nclass CommunityList extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            communities: [],\n            isLoading: true,\n        }\n    }\n\n    componentDidMount() {\n        this.fetchCommunities();\n    }\n\n    fetchCommunities() {\n        fetch('/api/communities' + (this.props.instance !== \"local\" ? \"?external=\" + this.props.instance : \"\"))\n            .then(response => response.json())\n            .then(data =>\n                this.setState({\n                    communities: data,\n                    isLoading: false,\n                })\n            )\n    }\n\n    render() {\n        const { communities, isLoading } = this.state;\n        return (\n            <Accordion defaultActiveKey=\"0\">\n                <Card className=\"mt-4\">\n                    <Accordion.Toggle as={Card.Header} eventKey=\"0\" className=\"pt-4\">\n                        <h5>Hosted {this.props.instance === \"local\" ? \"locally:\" : \"on '\" + this.props.instance + \"':\"}\n                        </h5>\n                    </Accordion.Toggle>\n\n                    <Accordion.Collapse eventKey=\"0\">\n                        <Card.Body className=\"px-0 py-1\">\n                            <ListGroup variant=\"flush\">\n                                {!isLoading ?\n                                    communities.map((community) =>\n                                        community != \"\" &&\n                                        \n                                            <ListGroup.Item>\n                                                <Link to={this.props.instance === \"local\" ? \n                                                \"communities/\" + community : \"communities/\" + this.props.instance + \"/\" + community} >\n                                                {community}\n                                                </Link>\n                                            </ListGroup.Item>)\n                                    : <ListGroup.Item>Loading Communities...</ListGroup.Item>\n                                }\n                            </ListGroup>\n                        </Card.Body>\n                    </Accordion.Collapse>\n\n                </Card>\n            </Accordion>\n        )\n    }\n}\n\nexport default CommunityList;","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/Post.jsx",[],"/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/Sidebar.jsx",[],"/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/CommentCreator.jsx",[],"/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/auth/index.js",[],"/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/util/timeSince.js",["142"],"export default function timeSince(timestamp) {\n    let date = new Date(timestamp*1000);\n    \n    let seconds = Math.floor((new Date() - date) / 1000);\n\n    let interval = seconds / 31536000;\n    let count = Math.floor(interval);\n\n    if (interval >= 1) {\n      return count + \" year\" + ((count > 1) ? \"s\" : \"\");\n    }\n\n    interval = seconds / 2592000;\n    count = Math.floor(interval);\n\n    if (interval > 1) {\n        return count + \" month\" + ((count > 1) ? \"s\" : \"\");\n    }\n\n    interval = seconds / 86400;\n    count = Math.floor(interval);\n\n    if (interval > 1) {\n      return count + \" day\" + ((count > 1) ? \"s\" : \"\");\n    }\n\n    interval = seconds / 3600;\n    count = Math.floor(interval);\n\n    if (interval > 1) {\n        return count + \" hour\" + ((count > 1) ? \"s\" : \"\");\n    }\n\n    interval = seconds / 60;\n    count = Math.floor(interval);\n\n    if (interval > 1) {\n      return count + \" minute\" + ((count > 1) ? \"s\" : \"\");\n    }\n    \n    return seconds + \" second\" + ((seconds > 1 || seconds == 0 ) ? \"s\" : \"\");\n}","/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/AccessForbidden.jsx",[],"/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/CommunityManager.jsx",["143","144"],"/home/rhona/Documents/Junior_Honours/CS3099/project-code/client/src/components/UserRolesTable.jsx",[],{"ruleId":"145","replacedBy":"146"},{"ruleId":"147","replacedBy":"148"},{"ruleId":"149","severity":1,"message":"150","line":3,"column":8,"nodeType":"151","messageId":"152","endLine":3,"endColumn":14},{"ruleId":"149","severity":1,"message":"153","line":5,"column":10,"nodeType":"151","messageId":"152","endLine":5,"endColumn":19},{"ruleId":"149","severity":1,"message":"154","line":4,"column":10,"nodeType":"151","messageId":"152","endLine":4,"endColumn":14},{"ruleId":"155","severity":1,"message":"156","line":37,"column":13,"nodeType":"157","endLine":43,"endColumn":15},{"ruleId":"158","severity":1,"message":"159","line":108,"column":45,"nodeType":"160","messageId":"161","endLine":108,"endColumn":47},{"ruleId":"149","severity":1,"message":"162","line":1,"column":28,"nodeType":"151","messageId":"152","endLine":1,"endColumn":38},{"ruleId":"149","severity":1,"message":"163","line":1,"column":17,"nodeType":"151","messageId":"152","endLine":1,"endColumn":25},{"ruleId":"149","severity":1,"message":"164","line":1,"column":27,"nodeType":"151","messageId":"152","endLine":1,"endColumn":36},{"ruleId":"149","severity":1,"message":"165","line":4,"column":10,"nodeType":"151","messageId":"152","endLine":4,"endColumn":15},{"ruleId":"158","severity":1,"message":"159","line":115,"column":43,"nodeType":"160","messageId":"161","endLine":115,"endColumn":45},{"ruleId":"149","severity":1,"message":"166","line":9,"column":5,"nodeType":"151","messageId":"152","endLine":9,"endColumn":16},{"ruleId":"149","severity":1,"message":"167","line":10,"column":5,"nodeType":"151","messageId":"152","endLine":10,"endColumn":18},{"ruleId":"158","severity":1,"message":"168","line":53,"column":51,"nodeType":"160","messageId":"161","endLine":53,"endColumn":53},{"ruleId":"158","severity":1,"message":"159","line":41,"column":59,"nodeType":"160","messageId":"161","endLine":41,"endColumn":61},{"ruleId":"158","severity":1,"message":"159","line":209,"column":77,"nodeType":"160","messageId":"161","endLine":209,"endColumn":79},{"ruleId":"158","severity":1,"message":"159","line":231,"column":84,"nodeType":"160","messageId":"161","endLine":231,"endColumn":86},"no-native-reassign",["169"],"no-negated-in-lhs",["170"],"no-unused-vars","'Button' is defined but never used.","Identifier","unusedVar","'authFetch' is defined but never used.","'Link' is defined but never used.","jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You donâ€™t need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","JSXOpeningElement","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'useContext' is defined but never used.","'useState' is defined but never used.","'useEffect' is defined but never used.","'posts' is defined but never used.","'CaretUpFill' is defined but never used.","'CaretDownFill' is defined but never used.","Expected '!==' and instead saw '!='.","no-global-assign","no-unsafe-negation"]